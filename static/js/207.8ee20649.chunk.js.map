{"version":3,"file":"static/js/207.8ee20649.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/pages/movies/SearchBar.module.css?f106","components/pages/movies/SearchBar.jsx","webpack://react-homework-template/./src/components/pages/movies/Movies.module.css?c986","components/pages/movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"SearchBar_searchbar__2FKa1\",\"searchForm\":\"SearchBar_searchForm__KhEkG\",\"searchFormButton\":\"SearchBar_searchFormButton__4XTOy\",\"searchFormInput\":\"SearchBar_searchFormInput__EIdSM\",\"icon\":\"SearchBar_icon__tlcF3\"};","import PropTypes from 'prop-types';\nimport styles from './SearchBar.module.css';\n\nconst SearchBar = props => {\n  return (\n    <header className={styles.searchbar}>\n      <h1>Search movies</h1>\n      <form onSubmit={props.onSubmit} className={styles.searchForm}>\n        <button type=\"submit\" className={styles.searchFormButton}>\n          <svg className={styles.icon}>\n            <path d=\"M31.008 27.231l-7.58-6.447c-0.784-0.705-1.622-1.029-2.299-0.998 1.789-2.096 2.87-4.815 2.87-7.787 0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.972 0 5.691-1.081 7.787-2.87-0.031 0.677 0.293 1.515 0.998 2.299l6.447 7.58c1.104 1.226 2.907 1.33 4.007 0.23s0.997-2.903-0.23-4.007zM12 20c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z\"></path>\n          </svg>\n        </button>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Enter a movie title\"\n          className={styles.searchFormInput}\n        />\n      </form>\n    </header>\n  );\n};\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","// extracted by mini-css-extract-plugin\nexport default {\"paginationContainer\":\"Movies_paginationContainer__DZc1K\",\"paginationButton\":\"Movies_paginationButton__9ixX8\"};","import React, { useEffect, useState } from 'react';\nimport { createApiRequest } from '../../TheMovieDatabaseAPI';\nimport SearchBar from 'components/pages/movies/SearchBar';\nimport MoviesList from 'components/pages/movies/MoviesList';\nimport Loader from '../../Loader/Loader';\nimport styles from './Movies.module.css';\n\nconst Movies = () => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [moviesArray, setMoviesArray] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n\n  useEffect(() => {\n    if (searchQuery.trim() === '') {\n      setMoviesArray([]);\n      return;\n    }\n    async function fetchMovies() {\n      setLoading(true);\n      try {\n        const data = await createApiRequest(searchQuery, currentPage);\n        setMoviesArray(data.results);\n        setTotalPages(data.total_pages);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchMovies();\n  }, [searchQuery, currentPage]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setSearchQuery(event.target[1].value);\n    setCurrentPage(1);\n    document.querySelector('input').value = '';\n  };\n\n  const handlePageChange = page => {\n    setCurrentPage(page);\n  };\n\n  return (\n    <>\n      <SearchBar onSubmit={handleSubmit} />\n      {loading && <Loader />}\n      {error && <div>Error: {error}</div>}\n      {!loading && !error && <MoviesList data={moviesArray} />}\n      {totalPages > 0 && (\n        <div className={styles.paginationContainer}>\n          <button\n            onClick={() => handlePageChange(currentPage - 1)}\n            disabled={currentPage === 1}\n            className={styles.paginationButton}\n          >\n            Prev\n          </button>\n          <span>\n            Page {currentPage} of {totalPages}\n          </span>{' '}\n          <button\n            onClick={() => handlePageChange(currentPage + 1)}\n            disabled={currentPage === totalPages}\n            className={styles.paginationButton}\n          >\n            Next\n          </button>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["props","_jsxs","className","styles","children","_jsx","onSubmit","type","d","autoComplete","autoFocus","placeholder","_useState","useState","_useState2","_slicedToArray","searchQuery","setSearchQuery","_useState3","_useState4","moviesArray","setMoviesArray","_useState5","_useState6","loading","setLoading","_useState7","_useState8","error","setError","_useState9","_useState10","currentPage","setCurrentPage","_useState11","_useState12","totalPages","setTotalPages","useEffect","_fetchMovies","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","createApiRequest","sent","results","total_pages","t0","message","finish","stop","apply","arguments","trim","fetchMovies","handlePageChange","page","_Fragment","SearchBar","event","preventDefault","target","value","document","querySelector","Loader","MoviesList","onClick","disabled"],"sourceRoot":""}